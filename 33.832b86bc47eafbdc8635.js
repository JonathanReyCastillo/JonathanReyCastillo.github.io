(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{SEZn:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),o=function(){return function(){}}(),u=e("pMnS"),i=e("ZYCi"),r=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),d=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function a(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](1,212992,null,0,i.RouterOutlet,[i.ChildrenOutletContexts,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],function(l,n){l(n,1,0)},null)}function c(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-products-wrapper",[],null,null,null,a,d)),t["\u0275did"](1,114688,null,0,r,[],null,null)],function(l,n){l(n,1,0)},null)}var s=t["\u0275ccf"]("app-products-wrapper",r,c,{},{},[]),p=e("sZzC"),g=e("Sn08"),f=e("Fa87"),m=e("gIcY"),v=e("g4HV"),h=e("VSng"),C=e("+cad"),S=e("No4M"),b=e("Czxz"),T=e("RXyF"),F=e("Ip0R"),M=e("hpmT"),E=e("4WZM"),I=e("7LN8"),R=e("9Nhy"),w=e("AM0m"),y=e("lDaF"),_=e("0dVl"),k=function(){function l(l,n,e,t,o,u){this.router=l,this.configService=n,this.configTables=e,this.restangular=t,this.app=o,this.dropDownService=u,this.products=[],this.colsProductsMain=[],this.selectedColumns=[],this.iconActive=this.configService.iconActive,this.iconInactive=this.configService.iconInactive,this.fullAccess=!1,this.permissions={}}return l.prototype.ngOnInit=function(){var l=this;this.dropDownService.getProtectionUrl(this.router.url).then(function(n){"Success"===n.message?(l.permissions=l.dropDownService.getCurrentMenuPermissions(l.router.url),l.permissions.readAction?(l.fullAccess=l.permissions.fullAccess,l.app.chargeBreadcrum("PRODUCTS_LIST",null),l.colsProductsMain=l.configTables.setColumnsProductsMain(),l.selectedColumns=l.colsProductsMain,l.getProducts()):window.location.replace(l.configService.url_access)):window.location.replace(l.configService.url_access)})},l.prototype.getProducts=function(){var l=this;this.app.toggleBlockingStart(),this.restangular.all("products_leads_opportunities").getList({fullAccess:this.fullAccess}).subscribe(function(n){n.length<1&&l.configService.showCustomToast(l.configService.INFO_TYPE,l.configService.TITLE_INFO,l.configService.NO_RECORD_FOUNDS),l.products=l.configTables.transformDataProductsMain(n),l.app.toggleBlockingEnd()},function(n){l.app.toggleBlockingEnd()},function(){l.app.toggleBlockingEnd()})},l.prototype.addOrEditProduct=function(l){this.router.navigate(null!==l?["/platform/clients/products/"+l.id+"/edit"]:["/platform/clients/products/new"])},l}(),D=e("4IZE"),P=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function x(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,29,"p-toolbar",[],null,null,null,p.b,p.a)),t["\u0275did"](1,49152,null,0,g.Toolbar,[t.ElementRef],null,null),(l()(),t["\u0275eld"](2,0,null,0,8,"div",[["class","ui-toolbar-group-left"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"i",[["class","material-icons"],["style","vertical-align:middle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["search"])),(l()(),t["\u0275eld"](5,0,null,null,1,"input",[["pInputText",""],["placeholder","Buscar Por"],["style","width:auto; color: #ffffff;"],["type","text"]],[[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t["\u0275nov"](l,6).onInput(e)&&o),"input"===n&&(o=!1!==t["\u0275nov"](l.parent,7).filterGlobal(e.target.value,"contains")&&o),o},null,null)),t["\u0275did"](6,278528,null,0,f.InputText,[t.ElementRef,[2,m.NgModel]],null,null),(l()(),t["\u0275eld"](7,0,null,null,0,"span",[["style","padding-left: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,2,"button",[["icon","ui-icon-add"],["pButton",""],["pTooltip","Nuevo Producto"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addOrEditProduct(null)&&t),t},null,null)),t["\u0275did"](9,4341760,null,0,v.Tooltip,[t.ElementRef,t.NgZone],{text:[0,"text"]},null),t["\u0275did"](10,4341760,null,0,h.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),(l()(),t["\u0275eld"](11,0,null,0,18,"div",[["class","ui-toolbar-group-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,9,"p-multiSelect",[["defaultLabel","Choose Columns"],["optionLabel","header"],["selectedItemsLabel","{0} columns selected"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.component.selectedColumns=e)&&t),t},C.b,C.a)),t["\u0275did"](13,13877248,null,3,S.MultiSelect,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef],{defaultLabel:[0,"defaultLabel"],style:[1,"style"],selectedItemsLabel:[2,"selectedItemsLabel"],optionLabel:[3,"optionLabel"],options:[4,"options"]},null),t["\u0275qud"](335544320,5,{footerFacet:0}),t["\u0275qud"](335544320,6,{headerFacet:0}),t["\u0275qud"](603979776,7,{templates:1}),t["\u0275pod"](17,{minWidth:0}),t["\u0275prd"](1024,null,m.NG_VALUE_ACCESSOR,function(l){return[l]},[S.MultiSelect]),t["\u0275did"](19,671744,null,0,m.NgModel,[[8,null],[8,null],[8,null],[6,m.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,m.NgControl,null,[m.NgModel]),t["\u0275did"](21,16384,null,0,m.NgControlStatus,[[4,m.NgControl]],null,null),(l()(),t["\u0275eld"](22,0,null,null,0,"span",[["style","padding-left: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,2,"button",[["icon","ui-icon-file-download"],["pButton",""],["pTooltip","Exportar Todos"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==t["\u0275nov"](l.parent,7).exportCSV()&&o),o},null,null)),t["\u0275did"](24,4341760,null,0,v.Tooltip,[t.ElementRef,t.NgZone],{text:[0,"text"]},null),t["\u0275did"](25,4341760,null,0,h.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),(l()(),t["\u0275eld"](26,0,null,null,0,"span",[["style","padding-left: 10px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,2,"button",[["icon","ui-icon-filter-1"],["pButton",""],["pTooltip","Exportar Selecci\xf3n"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==t["\u0275nov"](l.parent,7).exportCSV({selectionOnly:!0})&&o),o},null,null)),t["\u0275did"](28,4341760,null,0,v.Tooltip,[t.ElementRef,t.NgZone],{text:[0,"text"]},null),t["\u0275did"](29,4341760,null,0,h.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null)],function(l,n){var e=n.component;l(n,6,0),l(n,9,0,"Nuevo Producto"),l(n,10,0,"ui-icon-add");var t=l(n,17,0,"200px");l(n,13,0,"Choose Columns",t,"{0} columns selected","header",e.colsProductsMain),l(n,19,0,e.selectedColumns),l(n,24,0,"Exportar Todos"),l(n,25,0,"ui-icon-file-download"),l(n,28,0,"Exportar Selecci\xf3n"),l(n,29,0,"ui-icon-filter-1")},function(l,n){var e=n.component;l(n,5,0,!0,!0,!0,!0,t["\u0275nov"](n,6).filled),l(n,8,0,!e.permissions.createAction),l(n,12,0,t["\u0275nov"](n,13).filled,t["\u0275nov"](n,13).focus,t["\u0275nov"](n,21).ngClassUntouched,t["\u0275nov"](n,21).ngClassTouched,t["\u0275nov"](n,21).ngClassPristine,t["\u0275nov"](n,21).ngClassDirty,t["\u0275nov"](n,21).ngClassValid,t["\u0275nov"](n,21).ngClassInvalid,t["\u0275nov"](n,21).ngClassPending),l(n,23,0,0==(null==e.products?null:e.products.length)),l(n,27,0,0==(null==e.products?null:e.products.length))})}function B(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"th",[],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==t["\u0275nov"](l,1).onClick(e)&&o),"keydown.enter"===n&&(o=!1!==t["\u0275nov"](l,1).onEnterKey(e)&&o),o},null,null)),t["\u0275did"](1,212992,null,0,b.SortableColumn,[b.Table],{field:[0,"field"]},null),(l()(),t["\u0275ted"](2,null,[" "," "])),(l()(),t["\u0275eld"](3,0,null,null,1,"p-sortIcon",[],null,null,null,T.c,T.a)),t["\u0275did"](4,245760,null,0,b.SortIcon,[b.Table],{field:[0,"field"]},null)],function(l,n){l(n,1,0,n.context.$implicit.field),l(n,4,0,n.context.$implicit.field)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).isEnabled(),t["\u0275nov"](n,1).sorted,t["\u0275nov"](n,1).isEnabled()?"0":null),l(n,2,0,n.context.$implicit.header)})}function O(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"th",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"span",[["class","md-inputfield md-inputfield-fill"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"input",[["class","input-list-custom-sms"],["pInputText",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t["\u0275nov"](l,3).onInput(e)&&o),"input"===n&&(o=!1!==t["\u0275nov"](l.parent.parent.parent,7).filter(e.target.value,l.context.$implicit.field,"contains")&&o),o},null,null)),t["\u0275did"](3,278528,null,0,f.InputText,[t.ElementRef,[2,m.NgModel]],null,null)],function(l,n){l(n,3,0)},function(l,n){l(n,2,0,null==t["\u0275nov"](n.parent.parent.parent,7).filters[n.context.$implicit.field]?null:t["\u0275nov"](n.parent.parent.parent,7).filters[n.context.$implicit.field].value,!0,!0,!0,!0,t["\u0275nov"](n,3).filled)})}function N(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,O)),t["\u0275did"](2,278528,null,0,F.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.parent.context.$implicit)},null)}function V(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,B)),t["\u0275did"](2,278528,null,0,F.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,N)),t["\u0275did"](4,16384,null,0,F.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,n){var e=n.component;l(n,2,0,n.context.$implicit),l(n,4,0,e.products&&e.products.length>0)},null)}function A(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.parent.parent.context.$implicit[n.parent.context.$implicit.field])})}function L(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.iconActive)})}function U(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.iconInactive)})}function q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,L)),t["\u0275did"](2,16384,null,0,F.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,U)),t["\u0275did"](4,16384,null,0,F.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,!0===n.parent.parent.context.$implicit[n.parent.context.$implicit.field]),l(n,4,0,!1===n.parent.parent.context.$implicit[n.parent.context.$implicit.field])},null)}function $(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["icon","ui-icon-remove-red-eye"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addOrEditProduct(l.parent.parent.context.$implicit)&&t),t},null,null)),t["\u0275did"](2,4341760,null,0,h.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null)],function(l,n){l(n,2,0,"ui-icon-remove-red-eye")},function(l,n){l(n,1,0,!n.component.permissions.readAction)})}function Y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,A)),t["\u0275did"](2,16384,null,0,F.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,q)),t["\u0275did"](4,16384,null,0,F.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,$)),t["\u0275did"](6,16384,null,0,F.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,"actions"!==n.context.$implicit.field&&"status"!==n.context.$implicit.field),l(n,4,0,"status"===n.context.$implicit.field),l(n,6,0,"actions"===n.context.$implicit.field)},null)}function G(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"tr",[],[[2,"ui-selectable-row",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"touchend"],[null,"keydown"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==t["\u0275nov"](l,1).onClick(e)&&o),"touchend"===n&&(o=!1!==t["\u0275nov"](l,1).onTouchEnd(e)&&o),"keydown"===n&&(o=!1!==t["\u0275nov"](l,1).onKeyDown(e)&&o),o},null,null)),t["\u0275did"](1,212992,null,0,b.SelectableRow,[b.Table,b.TableService],{data:[0,"data"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Y)),t["\u0275did"](3,278528,null,0,F.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,1,0,n.context.$implicit),l(n,3,0,n.context.columns)},function(l,n){l(n,0,0,t["\u0275nov"](n,1).isEnabled(),t["\u0275nov"](n,1).selected,t["\u0275nov"](n,1).isEnabled()?0:void 0)})}function K(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{dt:0}),(l()(),t["\u0275eld"](1,0,null,null,13,"p-card",[],null,null,null,M.b,M.a)),t["\u0275did"](2,49152,null,2,E.Card,[t.ElementRef],null,null),t["\u0275qud"](335544320,2,{headerFacet:0}),t["\u0275qud"](335544320,3,{footerFacet:0}),(l()(),t["\u0275eld"](5,0,null,1,9,"p-table",[["selectionMode","multiple"],["stateKey","table-products-main"],["stateStorage","local"]],null,null,null,T.d,T.b)),t["\u0275prd"](512,null,b.TableService,b.TableService,[]),t["\u0275did"](7,5488640,[[1,4],["dt",4]],1,b.Table,[t.ElementRef,t.NgZone,b.TableService,t.ChangeDetectorRef],{paginator:[0,"paginator"],rows:[1,"rows"],rowsPerPageOptions:[2,"rowsPerPageOptions"],selectionMode:[3,"selectionMode"],responsive:[4,"responsive"],stateKey:[5,"stateKey"],stateStorage:[6,"stateStorage"],value:[7,"value"],columns:[8,"columns"]},null),t["\u0275qud"](603979776,4,{templates:1}),(l()(),t["\u0275and"](0,null,null,1,null,x)),t["\u0275did"](10,16384,[[4,4]],0,I.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,V)),t["\u0275did"](12,16384,[[4,4]],0,I.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,G)),t["\u0275did"](14,16384,[[4,4]],0,I.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],function(l,n){var e=n.component;l(n,7,0,e.configService.paginator,e.configService.rowCount,e.configService.rowsPerPage,"multiple",e.configService.responsive,"table-products-main","local",e.products,e.selectedColumns),l(n,10,0,"caption"),l(n,12,0,"header"),l(n,14,0,"body")},null)}function Z(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-product-list",[],null,null,null,K,P)),t["\u0275did"](1,114688,null,0,k,[i.Router,R.a,w.a,D.a,y.a,_.a],null,null)],function(l,n){l(n,1,0)},null)}var z=t["\u0275ccf"]("app-product-list",k,Z,{},{},[]),W=e("BeII"),J=function(){function l(l,n,e,t,o,u,i,r){this.router=l,this.route=n,this.configTables=e,this.app=t,this.restangular=o,this.dropdownService=u,this.configService=i,this.adapterAudit=r,this.productId=this.route.snapshot.params.id,this.enableEditing=this.productId,this.product={},this.permissions=[],this.informationAudit={},this.assigneds=[]}return l.prototype.ngOnInit=function(){this.permissions=this.dropdownService.getCurrentMenuPermissions("/platform/clients/products"),this.permissions.readAction||window.location.replace(this.configService.url_access),this.app.chargeBreadcrum(this.productId?"PRODUCTS_EDIT":"PRODUCTS_CREATE",null),this.productForm=new m.FormGroup({productLine:new m.FormControl({value:null,disabled:!0},[m.Validators.required]),product:new m.FormControl({value:null,disabled:!0},[m.Validators.required]),description:new m.FormControl({value:null,disabled:!0},[m.Validators.required]),dateDelivery:new m.FormControl({value:null,disabled:!0},[m.Validators.required]),currency:new m.FormControl({value:null,disabled:!0},[m.Validators.required]),quantity:new m.FormControl({value:null,disabled:!0},[m.Validators.required]),unitValue:new m.FormControl({value:null,disabled:!0},[m.Validators.required]),total:new m.FormControl({value:null,disabled:!0},[m.Validators.required]),assigned:new m.FormControl({value:null,disabled:!0}),assignedShare:new m.FormControl({value:null,disabled:!0})}),this.getDataProduct(),this.productId?(this.resetForm(!0),this.getInformationAudit()):this.resetForm(!1)},l.prototype.ngAfterViewInit=function(){var l=this,n=JSON.parse(localStorage.getItem("company")).company,e=0;n&&(e=n.id),this.dropdownService.getConfigurationDropdownFilter(_.a.COD_PRODUCTS).then(function(n){l.products=n}),this.dropdownService.getConfigurationDropdownFilter(_.a.COD_PRODUCT_LINES).then(function(n){l.productLines=n}),this.dropdownService.getConfigurationDropdownFilter(_.a.COD_CURRENCY).then(function(n){l.currencyTypes=n}),this.dropdownService.getAssigneds(e).then(function(n){l.assigneds=n})},l.prototype.getDataProduct=function(){var l=this;this.productId?(this.app.toggleBlockingStart(),this.restangular.one("products_leads_opportunities",this.productId).get().subscribe(function(n){l.product=n,l.setData(l.product),l.app.toggleBlockingEnd()},function(n){l.app.toggleBlockingEnd()},function(){l.app.toggleBlockingEnd()})):this.product=this.restangular.one("products_leads_opportunities")},l.prototype.setData=function(l){this.productForm.get("productLine").setValue(l.productLine),this.productForm.get("product").setValue(l.product),this.productForm.get("description").setValue(l.description),this.productForm.get("dateDelivery").setValue(l.dateDelivery),this.productForm.get("currency").setValue(l.currency),this.productForm.get("quantity").setValue(l.quantity),this.productForm.get("unitValue").setValue(l.unitValue),this.productForm.get("total").setValue(l.total),this.productForm.get("assigned").setValue(l.assigned),this.productForm.get("assignedShare").setValue(l.assignedShare)},l.prototype.resetForm=function(l){this.productForm.get("productLine").reset({value:this.productForm.get("productLine").value,disabled:l}),this.productForm.get("product").reset({value:this.productForm.get("product").value,disabled:l}),this.productForm.get("description").reset({value:this.productForm.get("description").value,disabled:l}),this.productForm.get("dateDelivery").reset({value:this.productForm.get("dateDelivery").value,disabled:l}),this.productForm.get("currency").reset({value:this.productForm.get("currency").value,disabled:l}),this.productForm.get("quantity").reset({value:this.productForm.get("quantity").value,disabled:l}),this.productForm.get("unitValue").reset({value:this.productForm.get("unitValue").value,disabled:l}),this.productForm.get("total").reset({value:this.productForm.get("total").value,disabled:l}),this.productForm.get("assigned").reset({value:this.productForm.get("assigned").value,disabled:l}),this.productForm.get("assignedShare").reset({value:this.productForm.get("assignedShare").value,disabled:l})},l.prototype.save=function(){var l=this,n=this.productForm.value;n.active=!0,this.productId?(this.app.toggleBlockingStart(),this.restangular.one("products_leads_opportunities",this.productId).customPUT(n).subscribe(function(n){l.configService.showCustomToast(l.configService.SUCCESS_TYPE,l.configService.TITLE_SUCCESS,l.configService.SUCCESSFULLY_OPERATION),l.getDataProduct(),l.enableEditing=!0,l.resetForm(l.enableEditing),l.app.toggleBlockingEnd()},function(n){console.error(n),l.app.toggleBlockingEnd()},function(){l.app.toggleBlockingEnd()})):(this.app.toggleBlockingStart(),this.restangular.one("products_leads_opportunities").customPOST(n).subscribe(function(n){l.configService.showCustomToast(l.configService.SUCCESS_TYPE,l.configService.TITLE_SUCCESS,l.configService.SUCCESSFULLY_OPERATION),l.app.toggleBlockingEnd(),l.router.navigate(["/platform/clients/products/"+n.id+"/edit"])},function(n){console.error(n),l.app.toggleBlockingEnd()},function(){l.app.toggleBlockingEnd()}))},l.prototype.getInformationAudit=function(){var l=this;this.productId&&(this.app.toggleBlockingStart(),this.restangular.one("products_leads_opportunities/"+this.productId+"/information_audit").get().subscribe(function(n){l.informationAudit=l.adapterAudit.adapt(n),l.app.toggleBlockingEnd()},function(n){l.app.toggleBlockingEnd()},function(){l.app.toggleBlockingEnd()}))},l.prototype.changeActive=function(){var l=this;this.productId&&(this.app.toggleBlockingStart(),this.restangular.one("products_leads_opportunities/"+this.productId+"/change_status").customPUT().subscribe(function(n){n.message&&"Success"===n.message?l.configService.showCustomToast(l.configService.SUCCESS_TYPE,l.configService.TITLE_SUCCESS,l.configService.SUCCESSFULLY_OPERATION):l.configService.showCustomToast(l.configService.ERROR_TYPE,l.configService.TITLE_ERROR,l.configService.ERROR_OPERATION),l.enableEditing=!0,l.getDataProduct(),l.resetForm(!0),l.app.toggleBlockingEnd()},function(n){console.error(n),l.app.toggleBlockingEnd()},function(){l.app.toggleBlockingEnd()}))},l.prototype.editBtn=function(){this.permissions.updateAction&&(this.enableEditing=!1,this.resetForm(this.enableEditing))},l.prototype.goBack=function(){this.router.navigate(["/platform/clients/products/"])},l.prototype.cancelBtn=function(){this.product.id?(this.enableEditing=!0,this.resetForm(this.enableEditing)):this.goBack()},l}(),j=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function H(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0,u=l.component;return"submit"===n&&(o=!1!==t["\u0275nov"](l,2).onSubmit(e)&&o),"reset"===n&&(o=!1!==t["\u0275nov"](l,2).onReset()&&o),"ngSubmit"===n&&(o=!1!==u.save()&&o),o},null,null)),t["\u0275did"](1,16384,null,0,m["\u0275angular_packages_forms_forms_bh"],[],null,null),t["\u0275did"](2,540672,null,0,m.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,m.ControlContainer,null,[m.FormGroupDirective]),t["\u0275did"](4,16384,null,0,m.NgControlStatusGroup,[[4,m.ControlContainer]],null,null)],function(l,n){l(n,2,0,n.component.productForm)},function(l,n){l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending)})}function Q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-products-create-edit",[],null,null,null,H,j)),t["\u0275did"](1,4308992,null,0,J,[i.Router,i.ActivatedRoute,w.a,y.a,D.a,_.a,R.a,W.a],null,null)],function(l,n){l(n,1,0)},null)}var X=t["\u0275ccf"]("app-products-create-edit",J,Q,{},{},[]),ll=e("Fzqc"),nl=e("dWZg"),el=e("qAlS"),tl=e("nciF"),ol=e("mU/a"),ul=e("66nc"),il=e("pmWI"),rl=e("3GNW"),dl=e("fBTL"),al=e("KB/w"),cl=e("T+K8"),sl=e("Znf8"),pl=e("pODc"),gl=e("VQ/Y"),fl=e("sy7D"),ml=e("73c4"),vl=e("9g/F"),hl=e("Itiq"),Cl=e("CC75"),Sl=e("h5lK"),bl=e("2m6e"),Tl=e("LIyE"),Fl=e("K3sB");e.d(n,"ProductsModuleNgFactory",function(){return Ml});var Ml=t["\u0275cmf"](o,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,s,z,X]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,F.NgLocalization,F.NgLocaleLocalization,[t.LOCALE_ID,[2,F["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,m["\u0275angular_packages_forms_forms_j"],m["\u0275angular_packages_forms_forms_j"],[]),t["\u0275mpd"](4608,m.FormBuilder,m.FormBuilder,[]),t["\u0275mpd"](1073742336,F.CommonModule,F.CommonModule,[]),t["\u0275mpd"](1073742336,m["\u0275angular_packages_forms_forms_bc"],m["\u0275angular_packages_forms_forms_bc"],[]),t["\u0275mpd"](1073742336,m.FormsModule,m.FormsModule,[]),t["\u0275mpd"](1073742336,f.InputTextModule,f.InputTextModule,[]),t["\u0275mpd"](1073742336,m.ReactiveFormsModule,m.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,I.SharedModule,I.SharedModule,[]),t["\u0275mpd"](1073742336,ll.a,ll.a,[]),t["\u0275mpd"](1073742336,nl.b,nl.b,[]),t["\u0275mpd"](1073742336,el.ScrollingModule,el.ScrollingModule,[]),t["\u0275mpd"](1073742336,tl.DropdownModule,tl.DropdownModule,[]),t["\u0275mpd"](1073742336,ol.PaginatorModule,ol.PaginatorModule,[]),t["\u0275mpd"](1073742336,b.TableModule,b.TableModule,[]),t["\u0275mpd"](1073742336,v.TooltipModule,v.TooltipModule,[]),t["\u0275mpd"](1073742336,g.ToolbarModule,g.ToolbarModule,[]),t["\u0275mpd"](1073742336,h.ButtonModule,h.ButtonModule,[]),t["\u0275mpd"](1073742336,i.RouterModule,i.RouterModule,[[2,i["\u0275angular_packages_router_router_a"]],[2,i.Router]]),t["\u0275mpd"](1073742336,ul.DialogModule,ul.DialogModule,[]),t["\u0275mpd"](1073742336,E.CardModule,E.CardModule,[]),t["\u0275mpd"](1073742336,il.FieldsetModule,il.FieldsetModule,[]),t["\u0275mpd"](1073742336,S.MultiSelectModule,S.MultiSelectModule,[]),t["\u0275mpd"](1073742336,rl.ConfirmDialogModule,rl.ConfirmDialogModule,[]),t["\u0275mpd"](1073742336,dl.PanelModule,dl.PanelModule,[]),t["\u0275mpd"](1073742336,al.CalendarModule,al.CalendarModule,[]),t["\u0275mpd"](1073742336,cl.CheckboxModule,cl.CheckboxModule,[]),t["\u0275mpd"](1073742336,sl.BlockUIModule,sl.BlockUIModule,[]),t["\u0275mpd"](1073742336,pl.TabViewModule,pl.TabViewModule,[]),t["\u0275mpd"](1073742336,gl.GMapModule,gl.GMapModule,[]),t["\u0275mpd"](1073742336,fl.RadioButtonModule,fl.RadioButtonModule,[]),t["\u0275mpd"](1073742336,ml.StepsModule,ml.StepsModule,[]),t["\u0275mpd"](1073742336,vl.DataTableModule,vl.DataTableModule,[]),t["\u0275mpd"](1073742336,hl.AccordionModule,hl.AccordionModule,[]),t["\u0275mpd"](1073742336,Cl.TabMenuModule,Cl.TabMenuModule,[]),t["\u0275mpd"](1073742336,Sl.AutoCompleteModule,Sl.AutoCompleteModule,[]),t["\u0275mpd"](1073742336,bl.InputTextareaModule,bl.InputTextareaModule,[]),t["\u0275mpd"](1073742336,Tl.KeyFilterModule,Tl.KeyFilterModule,[]),t["\u0275mpd"](1073742336,Fl.a,Fl.a,[]),t["\u0275mpd"](1073742336,o,o,[]),t["\u0275mpd"](1024,i.ROUTES,function(){return[[{path:"",component:r,children:[{path:"",component:k},{path:"new",component:J},{path:":id/edit",component:J}]}]]},[])])})}}]);